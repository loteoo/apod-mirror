---
to: src/app/components/<%= h.inflection.camelize(name.replace(/\s/g, '_')) %>/actions.js
---

// Generates a unique random string
import {uuid} from './uuid.js'

// Adds an empty item from an array
export const Add = (state) => ({
  ...state,
  <%= h.inflection.camelize(name.replace(/\s/g, '_'), true) %>: state.<%= h.inflection.camelize(name.replace(/\s/g, '_'), true) %>.concat({
    id: uuid(),
    value: '',
    done: false,
    editing: false
  })
})

// Updates an item's name from an input's event, by ID
export const Update = (state, id, ev) => ({
  ...state,
  <%= h.inflection.camelize(name.replace(/\s/g, '_'), true) %>:  state.<%= h.inflection.camelize(name.replace(/\s/g, '_'), true) %>.map(item => 
    id === item.id 
      ? ({...item, name: ev.target.value})
      : item
  )
})

// Filters out an item in the array by ID
export const Delete = (state, id) => ({
  ...state,
  <%= h.inflection.camelize(name.replace(/\s/g, '_'), true) %>: state.<%= h.inflection.camelize(name.replace(/\s/g, '_'), true) %>.filter(item => id !== item.id)
})


// For a more complete example, look here:
https://github.com/loteoo/hyperapp-todolist
